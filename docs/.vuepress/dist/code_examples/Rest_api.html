<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>REST APIs | Mainframe DevOps</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.2edb6cd6.css" as="style"><link rel="preload" href="/assets/js/app.e300cb1f.js" as="script"><link rel="preload" href="/assets/js/5.73471069.js" as="script"><link rel="prefetch" href="/assets/js/10.258d9903.js"><link rel="prefetch" href="/assets/js/11.93988c7e.js"><link rel="prefetch" href="/assets/js/12.a99931fb.js"><link rel="prefetch" href="/assets/js/13.12f4cf1c.js"><link rel="prefetch" href="/assets/js/14.7ebc09ef.js"><link rel="prefetch" href="/assets/js/15.51286fc6.js"><link rel="prefetch" href="/assets/js/16.93ab7361.js"><link rel="prefetch" href="/assets/js/17.055c4c23.js"><link rel="prefetch" href="/assets/js/18.d4b3c5ea.js"><link rel="prefetch" href="/assets/js/19.dd351015.js"><link rel="prefetch" href="/assets/js/2.0cce4295.js"><link rel="prefetch" href="/assets/js/20.e99b3247.js"><link rel="prefetch" href="/assets/js/21.bfca7ca7.js"><link rel="prefetch" href="/assets/js/22.a220799e.js"><link rel="prefetch" href="/assets/js/23.a6cd5e9f.js"><link rel="prefetch" href="/assets/js/24.2b1fdc18.js"><link rel="prefetch" href="/assets/js/25.69537111.js"><link rel="prefetch" href="/assets/js/26.c863a294.js"><link rel="prefetch" href="/assets/js/27.f22753b1.js"><link rel="prefetch" href="/assets/js/28.114e107a.js"><link rel="prefetch" href="/assets/js/29.8187f603.js"><link rel="prefetch" href="/assets/js/3.c3d703e7.js"><link rel="prefetch" href="/assets/js/30.2fb080dc.js"><link rel="prefetch" href="/assets/js/31.a2af7f33.js"><link rel="prefetch" href="/assets/js/32.b829bfe4.js"><link rel="prefetch" href="/assets/js/33.5dc14dbe.js"><link rel="prefetch" href="/assets/js/34.1e1c2fbd.js"><link rel="prefetch" href="/assets/js/35.9d89c8c3.js"><link rel="prefetch" href="/assets/js/36.5ed2f375.js"><link rel="prefetch" href="/assets/js/37.fe8810b1.js"><link rel="prefetch" href="/assets/js/38.1c15f6d8.js"><link rel="prefetch" href="/assets/js/39.e7ad6837.js"><link rel="prefetch" href="/assets/js/4.2859f9c3.js"><link rel="prefetch" href="/assets/js/40.8efd01bf.js"><link rel="prefetch" href="/assets/js/41.16dc3d4a.js"><link rel="prefetch" href="/assets/js/42.c9336c0f.js"><link rel="prefetch" href="/assets/js/43.34a1ff87.js"><link rel="prefetch" href="/assets/js/44.02f37f75.js"><link rel="prefetch" href="/assets/js/6.2d3f4213.js"><link rel="prefetch" href="/assets/js/7.61efe740.js"><link rel="prefetch" href="/assets/js/8.82d60f58.js"><link rel="prefetch" href="/assets/js/9.5ae06182.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2edb6cd6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="compuware_logo.png" alt="Mainframe DevOps" class="logo"> <span class="site-name can-hide">Mainframe DevOps</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Pipelines</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pipelines/" class="nav-link">Getting started</a></li><li class="dropdown-item"><!----> <a href="/pipeline_scenario/pipelines.html" class="nav-link">Pipeline Scenarios</a></li><li class="dropdown-item"><!----> <a href="/pipelines/Mainframe-CI-Example-pipeline.html" class="nav-link">Basic Pipeline Example</a></li><li class="dropdown-item"><!----> <a href="/shared_library/Mainframe_CI_Pipeline_from_Shared_Lib.html" class="nav-link">Shared Library Example</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Configuration</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool_configuration/plugins.html" class="nav-link">Introduction to Jenkins Plugins</a></li><li class="dropdown-item"><!----> <a href="/tool_configuration/Jenkins_config.html" class="nav-link">Jenkins Configuration</a></li><li class="dropdown-item"><!----> <a href="/tool_configuration/jenkins_usage.html" class="nav-link">Using Jenkins Plugins</a></li><li class="dropdown-item"><!----> <a href="/tool_configuration/" class="nav-link">Tool Configurations</a></li><li class="dropdown-item"><!----> <a href="/tool_configuration/webhook_setup.html" class="nav-link">CES Webhook Configuration</a></li><li class="dropdown-item"><!----> <a href="/tool_configuration/CES_credentials_token.html" class="nav-link">CES Access Token Configuration</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">APIs</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code_examples/Rest_api.html" class="nav-link router-link-exact-active router-link-active">Rest API</a></li><li class="dropdown-item"><!----> <a href="/code_examples/Topaz_cli.html" class="nav-link">Topaz CLI</a></li><li class="dropdown-item"><!----> <a href="/code_examples/Topaz_Workbench_SDK.html" class="nav-link">Topaz Workbench SDK</a></li><li class="dropdown-item"><!----> <a href="/code_examples/Topaz_API.html" class="nav-link">Topaz Java API</a></li><li class="dropdown-item"><!----> <a href="/code_examples/Passticket.html" class="nav-link">Developing a Topaz Workbench PassTicket Extension</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Pipelines</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pipelines/" class="nav-link">Getting started</a></li><li class="dropdown-item"><!----> <a href="/pipeline_scenario/pipelines.html" class="nav-link">Pipeline Scenarios</a></li><li class="dropdown-item"><!----> <a href="/pipelines/Mainframe-CI-Example-pipeline.html" class="nav-link">Basic Pipeline Example</a></li><li class="dropdown-item"><!----> <a href="/shared_library/Mainframe_CI_Pipeline_from_Shared_Lib.html" class="nav-link">Shared Library Example</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Configuration</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool_configuration/plugins.html" class="nav-link">Introduction to Jenkins Plugins</a></li><li class="dropdown-item"><!----> <a href="/tool_configuration/Jenkins_config.html" class="nav-link">Jenkins Configuration</a></li><li class="dropdown-item"><!----> <a href="/tool_configuration/jenkins_usage.html" class="nav-link">Using Jenkins Plugins</a></li><li class="dropdown-item"><!----> <a href="/tool_configuration/" class="nav-link">Tool Configurations</a></li><li class="dropdown-item"><!----> <a href="/tool_configuration/webhook_setup.html" class="nav-link">CES Webhook Configuration</a></li><li class="dropdown-item"><!----> <a href="/tool_configuration/CES_credentials_token.html" class="nav-link">CES Access Token Configuration</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">APIs</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code_examples/Rest_api.html" class="nav-link router-link-exact-active router-link-active">Rest API</a></li><li class="dropdown-item"><!----> <a href="/code_examples/Topaz_cli.html" class="nav-link">Topaz CLI</a></li><li class="dropdown-item"><!----> <a href="/code_examples/Topaz_Workbench_SDK.html" class="nav-link">Topaz Workbench SDK</a></li><li class="dropdown-item"><!----> <a href="/code_examples/Topaz_API.html" class="nav-link">Topaz Java API</a></li><li class="dropdown-item"><!----> <a href="/code_examples/Passticket.html" class="nav-link">Developing a Topaz Workbench PassTicket Extension</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/code_examples/Rest_api.html" class="active sidebar-link">REST APIs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code_examples/Rest_api.html#accessing-the-api-documentation" class="sidebar-link">Accessing the API Documentation</a></li><li class="sidebar-sub-header"><a href="/code_examples/Rest_api.html#example-of-rest-api-usage" class="sidebar-link">Example of REST API usage</a></li><li class="sidebar-sub-header"><a href="/code_examples/Rest_api.html#total-test-rest-apis" class="sidebar-link">Total Test REST APIs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code_examples/Rest_api.html#authentication" class="sidebar-link">Authentication</a></li><li class="sidebar-sub-header"><a href="/code_examples/Rest_api.html#crud-and-list-operations" class="sidebar-link">CRUD and List Operations</a></li><li class="sidebar-sub-header"><a href="/code_examples/Rest_api.html#list-operation" class="sidebar-link">List Operation</a></li><li class="sidebar-sub-header"><a href="/code_examples/Rest_api.html#introduction-to-the-web-based-api-explorer" class="sidebar-link">Introduction to the Web based API Explorer</a></li><li class="sidebar-sub-header"><a href="/code_examples/Rest_api.html#execute-a-test-scenario-or-suite" class="sidebar-link">Execute a Test Scenario or Suite</a></li><li class="sidebar-sub-header"><a href="/code_examples/Rest_api.html#retrieving-execution-result" class="sidebar-link">Retrieving Execution Result</a></li></ul></li></ul></li><li><a href="/code_examples/Topaz_cli.html" class="sidebar-link">Topaz CLI</a></li><li><a href="/code_examples/Topaz_Workbench_SDK.html" class="sidebar-link">Topaz Workbench SDK</a></li><li><a href="/code_examples/Topaz_API.html" class="sidebar-link">Topaz Java API</a></li><li><a href="/code_examples/Topaz_Workbench_API_Code_snippets.html" class="sidebar-link">Topaz Workbench SDK Code Snippets</a></li><li><a href="/code_examples/Passticket.html" class="sidebar-link">Developing a Topaz Workbench PassTicket Extension</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="rest-api"><a href="#rest-api" aria-hidden="true" class="header-anchor">#</a> Rest API</h1> <p>Compuware's Rest APIs are documented in <a href="https://swagger.io/solutions/api-documentation/" target="_blank" rel="noopener noreferrer">Swagger<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, a commonly used format.  The Rest APIs are hosted in Compuware Enterprise Services (CES), which connects to the underlying mainframe products to perform various actions on the mainframe.</p> <p><img src="/assets/img/Swagger.0b03adbf.png" alt="Swagger Doc"></p> <p>The APIs use a token based authentication for securely accessing the mainframe.  Please visit the <a href="/tool_configuration/CES_credentials_token.html">CES Credentials</a> for more information about setting up a Personal Access Token for the APIs.</p> <h2 id="accessing-the-api-documentation"><a href="#accessing-the-api-documentation" aria-hidden="true" class="header-anchor">#</a> Accessing the API Documentation</h2> <p>To see the API Documentation on the internet, please visit our <a href="https://ispw.api.compuware.com/" target="_blank" rel="noopener noreferrer">Swagger REST API documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for more details on the various APIs.</p> <p>To access the APIs within your environment, go to the CES URL and select the <code>API Documentation</code> option in the Help menu (see below)</p> <p><img src="/assets/img/CES_api.5db5ace1.png" alt="CES Doc"></p> <h2 id="example-of-rest-api-usage"><a href="#example-of-rest-api-usage" aria-hidden="true" class="header-anchor">#</a> Example of REST API usage</h2> <p>For an example of how to call the Rest API from a scripting language, please see this <a href="https://github.com/cpwr-devops/DevOps-Examples/blob/master/src/misc-examples/ISPW_Operations.ps1" target="_blank" rel="noopener noreferrer">Powershell script<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that calls ISPW's API to perform various ISPW Operations from a command line.</p> <h2 id="total-test-rest-apis"><a href="#total-test-rest-apis" aria-hidden="true" class="header-anchor">#</a> Total Test REST APIs</h2> <p>The Total Test REST APIs are also documented with swagger and are found under the Total Test web client at the CES server at <code>http(s)://&lt;CES url&gt;/totaltestapi/swagger-ui.html</code>. Here we will introduce how to use the APIs All functionality used by the web client and the Eclipse client is exposed as REST-based APIs and can be used and integrated with third-party software. The Functional Test web client contains a link under the menu: Configuration &gt; API explorer that will open a web page that documents all available APIs including the ones described in this document. From this page it is possible to authenticate your credentials and call all the APIs. Each API shows the URL to use, all parameters and the response is also returned In the browser. Introduction to the API explorer is found in <a href="#introduction-to-the-web-based-api-explorer">Introduction to the Web-based API Explorer</a>. It is also possible to register publish providers through the Web client. A publish provider will be notified when executions have completed and is responsible for handling the report. All APIs are in the form <code>https://&lt;CES url&gt;/totaltestapi/&lt;rest address&gt;</code>. The remainder of this section will refer to the <code>/&lt;rest address&gt;</code> part of the URL.</p> <h3 id="authentication"><a href="#authentication" aria-hidden="true" class="header-anchor">#</a> Authentication</h3> <p>Most of the APIs require a security token as a HTTP header parameter in the form:</p> <ul><li>URL: <code>/&lt;rest address&gt;</code></li> <li>Method: GET, PUT, POST, DELETE</li> <li>Headers
<ul><li><strong>token</strong>: <code>&lt;token&gt;</code></li></ul></li></ul> <p>A token is valid for 60 minutes and is retrieved by submitting a valid Functional Test UserID and
password with HTTP Basic authentication through HTTP POST with the URL:</p> <ul><li>URL: /authenticate</li> <li>Method: POST</li> <li>Headers:
<ul><li><code>Authorization: Basic &lt;encoded&gt;</code></li></ul></li></ul> <p>where the <code>&lt;encoded&gt;</code> parameter is the base64 encoded value of the userID and password
concatenated with a colon between the userID and password (Base64.encode(userid+ &quot;:&quot;
+password))
A token can also be retrieved by a server that will use the APIs. The server uses the API:</p> <ul><li>URL: /authenticate/server</li> <li>Method: POST</li></ul> <p>No header information is needed. The Functional Test server will create a new Server user based on
the request IP address. The first time this is executed, the client will receive an error telling that the
user is not enabled. A Functional Test administrator must then assign a license to the server.</p> <h4 id="example-request"><a href="#example-request" aria-hidden="true" class="header-anchor">#</a> Example request</h4> <div class="language- extra-class"><pre class="language-text"><code>POST /authenticate
Authorization: Basic c3RlZW46MTIz
</code></pre></div><h4 id="example-response"><a href="#example-response" aria-hidden="true" class="header-anchor">#</a> Example response</h4> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;token&quot;:&quot;517a64722f6c482b78544a69666e7373624f4349646e746348666f6d396d6c30467a46666d4c6b392b30466138334d68
2f4a4966524d3973734d634963575233&quot;
}
</code></pre></div><h3 id="crud-and-list-operations"><a href="#crud-and-list-operations" aria-hidden="true" class="header-anchor">#</a> CRUD and List Operations</h3> <p>Artifacts that support CRUD operations follow standard REST principles by accessing the resource
through the URLS:</p> <ul><li>Create: <code>POST /&lt;resourceName&gt;</code></li> <li>Read: <code>GET /&lt;resourceName&gt;/{id}</code></li> <li>Update: <code>PUT /&lt;resourceName&gt;/{id}</code></li> <li>Delete: <code>DELETE /&lt;resourceName&gt;/{id}</code></li> <li>List: <code>GET /&lt;resourceName&gt;</code></li></ul> <p>The Read operation returns a JSON based object while the Create and Update operations requires a JSON based object in the request body. All CRUD operations require a valid token header to be
present</p> <h3 id="list-operation"><a href="#list-operation" aria-hidden="true" class="header-anchor">#</a> List Operation</h3> <p>All list operations on artifacts in the repository accepts parameters for filtering, sorting and pagination. This makes it efficient to do server-side filtering, sorting and pagination�which is required when the number of artifacts grow large. A list of artifacts is received from the URL.</p> <ul><li>GET <code>/&lt;resourceName&gt;</code>
The following URL parameters can be used</li> <li><strong>pageNumber</strong>: The page number starting from 0</li> <li><strong>pageSize</strong>: Number of items to return per page</li> <li><strong>sort</strong>: Name of the attribute on which to do the sorting. It can be followed by a comma and either desc (descending) or asc (ascending) to specific which direction to sort, for example: <strong>name, asc</strong></li> <li><strong>filter</strong>: A json string containg attribute names and filters, for example:
<code>{&quot;name&quot;:&quot;xapgm&quot;,&quot;description&quot;:&quot;hello&quot;}</code></li></ul> <h4 id="counting-total-number-of-items"><a href="#counting-total-number-of-items" aria-hidden="true" class="header-anchor">#</a> Counting total number of items</h4> <p>Artifacts that support list operations all have a count API that takes same parameters as above and
that returns the total number of artifacts matching the filter. The count operation is accessed through
the URL</p> <ul><li>GET <code>/&lt;resourceName&gt;/count</code></li></ul> <h3 id="introduction-to-the-web-based-api-explorer"><a href="#introduction-to-the-web-based-api-explorer" aria-hidden="true" class="header-anchor">#</a> Introduction to the Web based API Explorer</h3> <p>From the Functional Test web client the menu: <strong>Configuration-&gt;API Explorer</strong> will open a new browser tag and all APIs can be seen and tried out. Below image shows the web page.</p> <p><img src="/assets/img/totaltestswagger.31a616d2.png" alt="Swagger Doc"></p> <p>Simply select an area like Analyse Component on host and you will see a list of APIs related to this resource. You can click on an API and see details such as query and header parameters, request and response body etc. The following is illustrated for the API to execute test scenarios (or test cases) for a specific component.</p> <p><img src="/assets/img/totaltestexecute.ad4028f5.png" alt="Swagger Doc"></p> <p>Here you can see that the <strong>componentName</strong> and <strong>environmentId</strong> parameters are required while other parameters are optional. Clicking the <strong>Try it out</strong> button will execute the API and you will see the request
URL and response as follows.</p> <p><img src="/assets/img/totaltestexecute2.1c915408.png" alt="Swagger Doc"></p> <h4 id="authorization"><a href="#authorization" aria-hidden="true" class="header-anchor">#</a> Authorization</h4> <p>Most APIs require authorization. You first need to provide your Functional Test credentials to get a token and then use this token to authenticate other calls. You can use the <strong>Authorize</strong> button in the top right corner to setup authorization.
To get and use a security token:</p> <ol><li>Click the <strong>Authorize key</strong> and in the dialog enter your Functional Test UserID/password and click <strong>Authorize</strong>.
<img src="/assets/img/totaltestexecute3.57c6dc3b.png" alt="Swagger Doc"></li> <li>Expand the Authorize API header and expand the POST: /authorize API
<img src="/assets/img/totaltestexecute4.11882291.png" alt="Swagger Doc"></li> <li>Click the <strong>Try it out</strong> button. It will use the HTTP basic authentication settings you setup in the dialog. You will receive a token in the response as illustrated below<br> <img src="/assets/img/totaltestexecute5.5598d7ac.png" alt="Swagger Doc"></li> <li>Copy the value of the token field. Then click the <strong>Authorize</strong> button again and paste the token value to the API auth key and click <strong>Authorize</strong>.</li> <li>You can use all APIs, except possibly those that require admin permissions, if you are not an Functional Test admin. For instance, expand the Components API, expand the GET: /component
API and click <strong>Try it out</strong>. It will return the first 10 component definitions in the repository.</li></ol> <h3 id="execute-a-test-scenario-or-suite"><a href="#execute-a-test-scenario-or-suite" aria-hidden="true" class="header-anchor">#</a> Execute a Test Scenario or Suite</h3> <p>A test scenario or test suite can be executed through the APIs below. By default the execution will happen asynchronously at the server and the caller will get a result ID back. The caller can include a callback URL as a parameter in the request. The server will then publish the execution result through a Http POST to the callback URL when the execution completes. The APIs can also execute synchronously by providing a <strong>synchron=true</strong> query parameter. The client will then wait for the result until the test scenario or suite as completed the execution.
Another API lets you execute all test scenarios in a specific environment that are defined to test a specific component (component under test). With this API you just need to provide environment ID and the component name and a test suite will automatically be generated, it will contain all relevant test scenarios and it will start to execute.
These APIs can, for example, be used by a build system to initiate a test before the build or by an external continuous integration server to initiate a unit test and collect the result. The result ID that is returned when initiating the test can be used in a later request to get the report of the execution result.
The APIs for executing a test scenario or suite can also be execute the test scenario or suite synchronously and return the final result after the execution completes. Provide the request parameter synchron=true in the request to make a synchronous request.
Execution of test scenarios and test suites can either be made by first getting an authentication token
and then use this token to initiate the test. Or it can use another API that will not require a token.</p> <h4 id="scenario"><a href="#scenario" aria-hidden="true" class="header-anchor">#</a> Scenario</h4> <p>The diagram below illustrates the interaction between Functional Test and e.g. a build system.</p> <h4 id="resource-url"><a href="#resource-url" aria-hidden="true" class="header-anchor">#</a> Resource URL</h4> <p>The following three URLs can be used to execute a test scenario and a test suite. All URLs require a security header token. The first executes a test scenario and the second a test suite. Use the third for both a test scenario and a test suite:</p> <ul><li>POST: /testcase/{id}/execute</li> <li>POST: /suite/{id}/execute</li> <li>POST: /execute/{id}</li></ul> <p>The {id} path should be replaced with the context or suite ID. Both requests will return a JSON object with the current job status:</p> <div class="language- extra-class"><pre class="language-text"><code>{&quot;id&quot;:&quot;&lt;the execution id&gt;&quot;, &quot;state&quot;:&quot;running&quot;, &quot;contextId&quot;:&quot;&lt;the id of the suite or context&quot;}
</code></pre></div><p>The callback will receive a JSON object containing the detailed execution result in JUnit output
format. See next section, how to execute without a token for easier integration with build systems</p> <h4 id="parameters"><a href="#parameters" aria-hidden="true" class="header-anchor">#</a> Parameters</h4> <ul><li><strong>callbackUrl</strong>: optional URL that will be used for a callback after the execution completes. The engine will send a POST request containing the execution result as a body.</li> <li><strong>synchron</strong>: true or false. If true, then the client will wait until the execution has completed. If false, then a result object will be returned immediately with the ID of the result and the state Running.</li></ul> <p>The callbackUrl will get the result published through a POST request which will contain a JSON
object containing information about the execution</p> <h4 id="header-parameters"><a href="#header-parameters" aria-hidden="true" class="header-anchor">#</a> Header Parameters</h4> <ul><li><strong>token</strong>: a valid token gotten from /authenticate or /authenticate/server</li> <li><strong>credentials</strong>: Base64 encoded host credentials in the form <code>&lt;UserID&gt;:&lt;password&gt;</code></li></ul> <p>Both calls require a valid token as header parameter and the base64 encoded host credentials as a
header parameter called credentials.</p> <h4 id="example-async-request"><a href="#example-async-request" aria-hidden="true" class="header-anchor">#</a> Example Async Request</h4> <p>The example request contains a callback URL to https://someotherurl/publish/demo. The result is sent to this URL through a POST request after the execution finishes</p> <ul><li>POST /testcase/56209fc22cec5ffddb2111cf/execute?callbackUrl=https://someotherurl/publish/demo</li> <li>Headers
<ul><li>token: 517a64722f6c482</li> <li>credentials:U1RFRU46WEFURVNUMQ%3D%3D</li></ul></li></ul> <h4 id="example-response-2"><a href="#example-response-2" aria-hidden="true" class="header-anchor">#</a> Example Response</h4> <p>The immediate response from the example request is</p> <div class="language- extra-class"><pre class="language-text"><code>{
 &quot;id&quot;: &quot;59cb78db0b1d2608840dab46&quot;,
 &quot;type&quot;: &quot;TEST&quot;,
 &quot;contextId&quot;: &quot;59c8a10e01fa9346123b2490&quot;,
 &quot;testCaseResults&quot;: [],
 &quot;state&quot;: &quot;RUNNING&quot;,
 &quot;started&quot;: &quot;2017-09-27T10:09:31.217+0000&quot;,
 &quot;ended&quot;: null,
 &quot;message&quot;: null,
 &quot;executedBy&quot;: &quot;XATUSER&quot;,
 &quot;validationFailures&quot;: [],
 &quot;useCodeCoverage&quot;: true,
 &quot;codeCoverage&quot;: []
}
</code></pre></div><p>Most important is the ID, which refers to the result ID, which currently is in running state. The contextId refers to the ID of the suite or script and the type is either TEST or SUITE depending on what type was executed. The callback URL later receives a HTTP POST with a request body containing the result. The state can be ERROR, FAILED, COMPLETED, where ERROR means a technical error occurred, FAILED means that data verification was unsuccessful and COMPLETED means a successful execution.</p> <h4 id="example-with-synchronous-request"><a href="#example-with-synchronous-request" aria-hidden="true" class="header-anchor">#</a> Example with Synchronous Request</h4> <p>When executing with the <strong>synchron=true</strong> parameter, the result will be returned after the execution has finished and the state will either be COMPLETED, FAILED or ERROR. The result will also contain optional code coverage information, message and validation failure.</p> <ul><li>POST /testcase/56209fc22cec5ffddb2111cf/execute?synchron=true</li> <li>Headers
<ul><li>token: 517a64722f6c482</li> <li>credentials:U1RFRU46WEFURVNUMQ%3D%3D</li></ul></li></ul> <h4 id="example-response-3"><a href="#example-response-3" aria-hidden="true" class="header-anchor">#</a> Example Response</h4> <p>The response from the example request is illustrated below</p> <div class="language- extra-class"><pre class="language-text"><code>{
 &quot;id&quot;: &quot;59cb7fa00b1d2608840dab48&quot;,
 &quot;type&quot;: &quot;TEST&quot;,
 &quot;contextId&quot;: &quot;59c8a10e01fa9346123b2490&quot;,
 &quot;testCaseResults&quot;: [],
 &quot;state&quot;: &quot;COMPLETED&quot;,
 &quot;started&quot;: &quot;2017-09-27T10:38:24.675+0000&quot;,
 &quot;ended&quot;: &quot;2017-09-27T10:38:27.776+0000&quot;,
 &quot;message&quot;: &quot;&quot;,
 &quot;executedBy&quot;: &quot;XATUSER&quot;,
 &quot;validationFailures&quot;: [],
 &quot;useCodeCoverage&quot;: true,
 &quot;codeCoverage&quot;: [
 {
 &quot;componentName&quot;: &quot;XARISCAL&quot;,
 &quot;coveragePercentage&quot;: 78
 }
 ]
}
</code></pre></div><h3 id="retrieving-execution-result"><a href="#retrieving-execution-result" aria-hidden="true" class="header-anchor">#</a> Retrieving Execution Result</h3> <p>Results from executing a test suite or test scenario can be retrieved through the two URLs below. The first returns the overall result while the second returns all the details of the result including the log, the resulting abstract syntax three of the result and detailed code coverage information. Detailed result might be deleted automatically from the server after a number of days. The simple result returned is in same format as the result returned by the API for executing a test scenario or test suite.</p> <h4 id="resource-url-2"><a href="#resource-url-2" aria-hidden="true" class="header-anchor">#</a> Resource URL</h4> <ul><li>GET:
<ul><li>/testcase/{id}/result/{resultId}</li> <li>/suite/{id}/result/{resultId}</li> <li>/result/{resultId}</li></ul></li> <li>GET:
<ul><li>/testcase/{id}/result/{resultId}/details</li> <li>/suite/{id}/result/{resultId/details</li> <li>/result/{resultId}/details</li></ul></li></ul> <h4 id="header-parameters-2"><a href="#header-parameters-2" aria-hidden="true" class="header-anchor">#</a> Header Parameters</h4> <ul><li><strong>token</strong>: a valid token gotten from /authenticate</li></ul> <p>Both calls require a valid token as header parameter.</p> <h4 id="example-request-to-get-result"><a href="#example-request-to-get-result" aria-hidden="true" class="header-anchor">#</a> Example Request to Get Result</h4> <ul><li>GET /testcase/59c8a10e01fa9346123b2490/result/59cb78db0b1d2608840dab46</li> <li>Headers
<ul><li>token: 517a64722f6c482</li></ul></li></ul> <h4 id="example-response-4"><a href="#example-response-4" aria-hidden="true" class="header-anchor">#</a> Example Response</h4> <div class="language- extra-class"><pre class="language-text"><code>{
 &quot;id&quot;: &quot;59cb78db0b1d2608840dab46&quot;,
 &quot;type&quot;: &quot;TEST&quot;,
 &quot;contextId&quot;: &quot;59c8a10e01fa9346123b2490&quot;,
 &quot;testCaseResults&quot;: [],
 &quot;state&quot;: &quot;COMPLETED&quot;,
 &quot;started&quot;: &quot;2017-09-27T10:09:31.217+0000&quot;,
 &quot;ended&quot;: &quot;2017-09-27T10:09:34.406+0000&quot;,
 &quot;message&quot;: &quot;&quot;,
 &quot;executedBy&quot;: &quot;XATUSER&quot;,
 &quot;validationFailures&quot;: [],
 &quot;useCodeCoverage&quot;: true,
 &quot;codeCoverage&quot;: [
 {
 &quot;componentName&quot;: &quot;XARISCAL&quot;,
 &quot;coveragePercentage&quot;: 78
 }
 ]
}
</code></pre></div><h4 id="example-request-to-get-detailed-result"><a href="#example-request-to-get-detailed-result" aria-hidden="true" class="header-anchor">#</a> Example Request to get Detailed Result</h4> <ul><li>GET /testcase/59c8a10e01fa9346123b2490/result/59cb78db0b1d2608840dab46</li> <li>Headers
<ul><li>token: 517a64722f6c482</li></ul></li></ul> <h4 id="example-response-5"><a href="#example-response-5" aria-hidden="true" class="header-anchor">#</a> Example Response</h4> <div class="language- extra-class"><pre class="language-text"><code>{
 &quot;id&quot;: &quot;59cb8faa0b1d2609aa31acd9&quot;,
 &quot;type&quot;: &quot;TEST&quot;,
 &quot;contextId&quot;: &quot;59c8a10e01fa9346123b2490&quot;,
 &quot;testCaseResults&quot;: [],
 &quot;state&quot;: &quot;COMPLETED&quot;,
 &quot;started&quot;: &quot;2017-09-27T11:46:50.360+0000&quot;,
 &quot;ended&quot;: &quot;2017-09-27T11:46:53.554+0000&quot;,
 &quot;message&quot;: &quot;&quot;,
 &quot;executedBy&quot;: &quot;XATUSER&quot;,
 &quot;validationFailures&quot;: [],
 &quot;useCodeCoverage&quot;: true,
 &quot;report&quot;: &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\r\n&lt;XaUnitResult result...&quot;
 &quot;log&quot;: &quot;13:46:50.388 COMMENT XaUnit XaUnit execution started\n13:46...&quot;
 &quot;codeCoverage&quot;: [
	{
		 &quot;componentName&quot;: &quot;XARISCAL&quot;,
		 &quot;coveragePercentage&quot;: 78,
		 &quot;level&quot;: &quot;LINE&quot;,
		 &quot;tags&quot;: [],
		 &quot;sourceCode&quot;: &quot;000100 Identification division.
		 &quot;hitLines&quot;: [
			23,25,29,31,32,35,39
		 ],
		 &quot;untouchedLines&quot;: [
		 	36,40
		 ],
		 &quot;executionCount&quot;: 1
	 }
 ]
}
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/code_examples/Topaz_cli.html">
          Topaz CLI
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.e300cb1f.js" defer></script><script src="/assets/js/5.73471069.js" defer></script>
  </body>
</html>
