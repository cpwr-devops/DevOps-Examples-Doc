(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{174:function(t,e,s){t.exports=s.p+"assets/img/parametertized_pipeline.261b5a73.png"},175:function(t,e,s){t.exports=s.p+"assets/img/Adding_parameters.534c25bf.png"},204:function(t,e,s){t.exports=s.p+"assets/img/pipeline_from_shared_lib.79e4f42c.png"},242:function(t,e,s){"use strict";s.r(e);var a=[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"setting-up-the-pipeline-job"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-the-pipeline-job","aria-hidden":"true"}},[this._v("#")]),this._v(" Setting up the pipeline job")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The job itself is defined via the usual way of creating a new pipeline job. It is important, though, to make sure that the resulting job uses parameters by checking the "),e("code",[this._v("This project is parameterized")]),this._v(" box,")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(174),alt:"Parameterized Pipeline"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(175),alt:"Adding parameters"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Default Value")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("ISPW_Stream")]),t._v(" "),s("td",[t._v("FTSDEMO")]),t._v(" "),s("td",[t._v("ISPW Stream Name")])]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Application")]),t._v(" "),s("td",[t._v("RXN3 ISPW Application")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Src_Level")]),t._v(" "),s("td",[t._v("DEV1")]),t._v(" "),s("td",[t._v("ISPW Level the promote has been started from")])]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Release")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("ISPW Release Name")])]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Container")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("ISPW Set ID")])]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Container_Type")]),t._v(" "),s("td",[t._v("2")]),t._v(" "),s("td",[t._v("ISPW Container Type -0 - assignment -1 - release -2 - set")])]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Owner")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("ISPW Owner User ID")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"loading-the-script-from-a-shared-library"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#loading-the-script-from-a-shared-library","aria-hidden":"true"}},[this._v("#")]),this._v(" Loading the script from a shared library")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(204),alt:"Pipeline from Shared Library"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-groovy extra-class"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Library")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'RNU_Shared_Lib@Dev'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("_")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Mainframe_CI_Pipeline_from_Shared_Lib")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    ISPW_Stream         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ISPW_Stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ISPW Stream               ")]),t._v("\n    ISPW_Application    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ISPW_Application"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ISPW Application")]),t._v("\n    ISPW_Release        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ISPW_Release"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ISPW Release")]),t._v("\n    ISPW_Assignment     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ISPW_Assignment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ISPW Assignment")]),t._v("\n    ISPW_Container      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ISPW_Container"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ISPW Container (Set)")]),t._v("\n    ISPW_Container_Type "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ISPW_Container_Type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ISPW Container Type (2 for Set)")]),t._v("\n    ISPW_Src_Level      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ISPW_Src_Level"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ISPW Level the promote worked from")]),t._v("\n    ISPW_Owner          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ISPW_Owner"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ISPW User doing the promote")]),t._v("\n    Config_Git_Branch   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Dev'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    CES_Token           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxx'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    CES_Token_Clear     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxx'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    \n    HCI_Conn_ID         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxx'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    HCI_Token           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxx'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    CC_repository       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxx'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Git_Project         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxx'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Git_Credentials     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxx'")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The parameters in this first set are specific to the individual execution of the pipeline. The values are the parameters defined in the [pipeline configuration above](#Setting up the pipeline job). The syntax "),e("code",[this._v('"${parameter}"')]),this._v(" ensures that the value passed to this parameter is taken as value in the "),e("code",[this._v("Map")]),this._v(".")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",[t._v("Key")]),t._v(" "),s("th",[t._v("Default Value")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("ISPW_Stream")]),t._v(" "),s("td",[t._v('"${ISPW_Stream}"')]),t._v(" "),s("td",[t._v("The ISPW_Stream parameter from the pipeline configuration above")])]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Application")]),t._v(" "),s("td",[t._v('"${ISPW_Application}"')]),t._v(" "),s("td",[t._v("The ISPW_Application parameter from the pipeline configuration above")])]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Release")]),t._v(" "),s("td",[t._v('"${ISPW_Release}"')]),t._v(" "),s("td",[t._v("The ISPW_Release parameter from the pipeline configuration above")])]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Assignment")]),t._v(" "),s("td",[t._v('"${ISPW_Assignment}"')]),t._v(" "),s("td",[t._v("The ISPW_Assignment parameter from the pipeline configuration above")])]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Container")]),t._v(" "),s("td",[t._v('"${ISPW_Container}"')]),t._v(" "),s("td",[t._v("The ISPW_Container parameter from the pipeline configuration above")])]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Container_Type")]),t._v(" "),s("td",[t._v('"${ISPW_Container_Type}"')]),t._v(" "),s("td",[t._v("The ISPW_Container_Type parameter from the pipeline configuration above")])]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Src_Level")]),t._v(" "),s("td",[t._v('"${ISPW_Src_Level}"')]),t._v(" "),s("td",[t._v("The ISPW_Src_Level parameter from the pipeline configuration above")])]),t._v(" "),s("tr",[s("td",[t._v("ISPW_Owner")]),t._v(" "),s("td",[t._v('"${ISPW_Owner}"')]),t._v(" "),s("td",[t._v("The ISPW_Owner parameter from the pipeline configuration above")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Key")]),this._v(" "),e("th",[this._v("Default Value")]),this._v(" "),e("th",[this._v("Description")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Config_Git_Branch")]),this._v(" "),e("td",[this._v("Branch in the Git repository where configuration files are to be read from")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("CES_Token")]),this._v(" "),e("td",[this._v("The Jenkins token, referring to the CES token")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("HCI_Conn_ID")]),this._v(" "),e("td",[this._v("The Jenkins internal ID for the HCI connection to use")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("HCI_Token")]),this._v(" "),e("td",[this._v("Jenkins internal ID for HCI Token")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("CC_repository")]),this._v(" "),e("td",[this._v("The Xpediter Code Coverage repository to use")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Git_Project")]),this._v(" "),e("td",[this._v("The name of the GitHub repository storing Topaz for Total Test assets")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Git_Credentials")]),this._v(" "),e("td",[this._v("Jenkins internal ID for credentials to use the GitHub repository<")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"mainframe-ci-pipeline-from-shared-lib"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mainframe-ci-pipeline-from-shared-lib","aria-hidden":"true"}},[this._v("#")]),this._v(" Mainframe_CI_Pipeline_from_Shared_Lib")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Execute its "),e("code",[this._v("call")]),this._v(" method, within which it will")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-groovy extra-class"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Map pipelineParams"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    node\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("PipelineConfig")]),t._v(" containing global parameter values that\n"),s("ul",[s("li",[t._v("passed by the job configuration/trigger and are pipeline/execution specific")]),t._v(" "),s("li",[t._v("not pipeline or execution specific, like server URLs. These parameters will be read from external configuration files")])])]),t._v(" "),s("li",[s("code",[t._v("GitHelper")]),t._v(" serving as a wrapper for a set of interactions with Git/GitHub")]),t._v(" "),s("li",[s("code",[t._v("IspwHelper")]),t._v(" serving as a wrapper for use of the ISPW plugins' methods")]),t._v(" "),s("li",[s("code",[t._v("TttHelper")]),t._v(" serving as a wrapper for use of the TTT plugin's and Code Coverage plugin's methods")]),t._v(" "),s("li",[s("code",[t._v("SonarHelper")]),t._v(" serving as a wrapper for use of the Sonar plugins' methods")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-groovy extra-class"},[e("pre",{pre:!0,attrs:{class:"language-groovy"}},[e("code",[this._v("        "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("initialize")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("(")]),this._v("pipelineParams"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Use the "),e("code",[this._v("downloadSources")]),this._v(" method of class "),e("code",[this._v("IspwHelper")]),this._v(" to download all COBOL sources and COBOL copybooks from ISPW (the mainframe) that are part of the set triggering this specific pipeline execution")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-groovy extra-class"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[t._v("        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"Retrieve Code From ISPW"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            ispwHelper"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("downloadSources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Not always will all required COBOL copybooks be part of an ISPW assignment or set. In order to retrieve any missing copybooks, the next stage will use the "),e("code",[this._v("downloadCopyBooks")]),this._v(" method of class "),e("code",[this._v("ispwHelper")]),this._v(" to determine all required copybooks and download them from the mainframe")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-groovy extra-class"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[t._v("        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"Retrieve Copy Books From ISPW"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            ispwHelper"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("downloadCopyBooks")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("workspace"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("Use the "),e("code",[this._v("checkout")]),this._v(" method of the "),e("code",[this._v("gitHelper")]),this._v("class to clone the Git repository for the ISPW application.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-groovy extra-class"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Retrieve the Tests from Github that match that ISPWW Stream and Application */")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"Retrieve Tests"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("            \n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" gitUrlFullPath "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("gitUrl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("/"),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("gitTttRepo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),t._v("\n            \n            gitHelper"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gitUrlFullPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("gitBranch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("gitCredentials"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("tttFolder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{attrs:{start:"6"}},[s("li",[t._v("Initialize the "),s("code",[t._v("TttHelper")]),t._v(" instance, loop through the downloaded Topaz for Total Test secnarios, and pass the results to JUnit (within Jenkins) using the methods "),s("code",[t._v("initialize")]),t._v(", "),s("code",[t._v("loopThruScenarios")]),t._v(", and "),s("code",[t._v("passResultsToJunit")]),t._v(" of the "),s("code",[t._v("TttHelper")]),t._v(" class, respectively.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-groovy extra-class"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n        This stage executes any Total Test Projects related to the mainframe source that was downloaded\n        */")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"Execute related Unit Tests"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            tttHelper"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("initialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                                            \n            tttHelper"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loopThruScenarios")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            tttHelper"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("passResultsToJunit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"7"}},[e("li",[this._v("Use the "),e("code",[this._v("collectCodeCoverageResults")]),this._v(" method of the "),e("code",[this._v("TttHelper")]),this._v(" class to download the code coveragre metrics from the Xpediter Code Coverage repository")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-groovy extra-class"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n        This stage retrieve Code Coverage metrics from Xpediter Code Coverage for the test executed in the Pipeline\n        */")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"Collect Coverage Metrics"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            tttHelper"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("collectCodeCoverageResults")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"8"}},[e("li",[this._v("Use the "),e("code",[this._v("scan")]),this._v(" method of the "),e("code",[this._v("SonarHelper")]),this._v(" class to pass downloaded COBOL sources, the results of the unit tests, and code coverage metrics to SonarQube")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-groovy extra-class"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n        This stage pushes the Source Code, Test Metrics and Coverage metrics into SonarQube and then checks the status of the SonarQube Quality Gate.  \n        If the SonarQube quality date fails, the Pipeline fails and stops\n        */")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"Check SonarQube Quality Gate"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            sonarHelper"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scan")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"9"}},[e("li",[this._v("Query the resulting Sonar quality gate, by registering a Sonar Webhook call back, if the quality gate fails, an email will be sent to the owner of the ISPW set - notifying them about the failure of the promote -, and the pipeline job will be aborted")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-groovy extra-class"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Wait for the results of the SonarQube Quality Gate")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("timeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MINUTES'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                \n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Wait for webhook call back from SonarQube.  SonarQube webhook for callback to Jenkins must be configured on the SonarQube server.")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" sonarGate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("waitForQualityGate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                \n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Evaluate the status of the Quality Gate")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sonarGate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("status "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'OK'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    echo "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"Sonar quality gate failure: '),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sonarGate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),t._v("\n                    echo "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"Pipeline will be aborted and ISPW Assignment will be regressed"')]),t._v("\n\n                    currentBuild"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"FAILURE"')]),t._v("\n\n                    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Send Standard Email")]),t._v("\n                    emailext subject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$DEFAULT_SUBJECT'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$DEFAULT_CONTENT'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                replyTo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$DEFAULT_REPLYTO'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("mailRecipient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),t._v("\n                    \n                    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withCredentials")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("credentialsId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("cesTokenId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" variable"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cesTokenClear'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ispwHelper.regressAssignmentList(assignmentList, cesTokenClear)")]),t._v("\n                        ispwHelper"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("regressAssignment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("ispwAssignment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cesTokenClear"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n                    error "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"Exiting Pipeline"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Exit the pipeline with an error if the SonarQube Quality Gate is failing")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("   \n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"10"}},[e("li",[this._v("If the quality gate passes an XL Release template will be triggered - using the XL Release plugin - to execute CD stages beyond the Jenkins pipeline, and an email will be sent to the owner of the ISPW set - notifying them about the success of the promote")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-groovy extra-class"},[s("pre",{pre:!0,attrs:{class:"language-groovy"}},[s("code",[t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* \n        This stage triggers a XL Release Pipeline that will move code into the high levels in the ISPW Lifecycle  \n        */")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"Start release in XL Release"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Trigger XL Release Jenkins Plugin to kickoff a Release")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("xlrCreateRelease")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                releaseTitle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A Release for $BUILD_TAG'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                serverCredentials"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("xlrUser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                startRelease"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("xlrTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                variables"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("propertyName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ISPW_Dev_level'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   propertyValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("ispwTargetLevel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Level in ISPW that the Code resides currently")]),t._v("\n                                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("propertyName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ISPW_RELEASE_ID'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  propertyValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("ispwRelease"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ISPW Release value from the ISPW Webhook")]),t._v("\n                                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("propertyName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CES_Token'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        propertyValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("cesTokenId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n                                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Send Standard Email")]),t._v("\n            emailext subject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$DEFAULT_SUBJECT'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$DEFAULT_CONTENT \\n'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Promote passed the Quality gate and a new XL Release was started.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        replyTo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$DEFAULT_REPLYTO'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("pConfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(".")]),t._v("mailRecipient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v('"')]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("        \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],n=s(1),r=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("Succesively add the following string parameters (the default values are the ones used for the examples).")]),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("The parameters in this first set are specific to the individual execution of the pipeline and get passed by the "),s("router-link",{attrs:{to:"./../tool_configuration/webhook_setup.html"}},[t._v("ISPW Webhook")]),t._v(".")],1),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),s("p",[t._v("To tell Jenkins to execute a pipeline from a shared library, you need to add code like the following to the Pipeline script definition.")]),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("The example uses")]),t._v(" "),t._m(7),s("p",[t._v("where")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("@Library('RNU_Shared_Lib@Dev') _")]),t._v("\nrefers to the name of a "),s("router-link",{attrs:{to:"./../pipelines/helper_classes/PipelineConfig.html"}},[t._v("Shared Library")]),t._v(", with "),s("code",[t._v("@Dev")]),t._v(" in this example referring to the "),s("code",[t._v("Dev")]),t._v(" branch of the underlying GitHub repository. The trailing "),s("code",[t._v("_")]),t._v(" is required by Jenkins.")],1),t._v(" "),s("li",[s("code",[t._v("Mainframe_CI_Pipeline_from_Shared_Lib")]),t._v("\nrefers to the name of the "),s("code",[t._v(".groovy")]),t._v(" file in the "),s("code",[t._v("vars")]),t._v(" "),s("router-link",{attrs:{to:"./../"}},[t._v("folder of the GitHub repository")]),t._v(", containing the pipeline code")],1),t._v(" "),s("li",[t._v("Within the brackets "),s("code",[t._v("(...)")]),t._v(" parameters are passed to the pipeline script. "),s("code",[t._v("Mainframe_CI_Pipeline_from_Shared_Lib")]),t._v(" expects a "),s("code",[t._v("groovy")]),t._v(" "),s("a",{attrs:{href:"http://groovy-lang.org/syntax.html#_maps",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("Map")]),s("OutboundLink")],1),t._v(", containing the following "),s("code",[t._v("key:value")]),t._v(" pairs.")])]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),s("p",[t._v("The second set of parameters is installation specific and reference tokens and other IDs that have been defined during the configuration phase. To determine the appropriate values to use refer to the "),s("router-link",{attrs:{to:"./pipeline_parameters.html"}},[t._v("description of the pipeline parameters")]),t._v(".")],1),t._v(" "),s("p",[t._v("Usually, these parameters will be installation specific rather than pipeline job or execution specific. Future versions of the example will take care of this, and move these parameters to configuration files.")]),t._v(" "),s("table",[t._m(10),t._v(" "),s("tbody",[t._m(11),t._v(" "),t._m(12),t._v(" "),s("tr",[s("td",[t._v("CES_Token_Clear")]),t._v(" "),s("td",[t._v('The "clear text" CES token (as copyied from the CES server\'s Security > '),s("router-link",{attrs:{to:"./../tool_configuration/CES_credentials_token.html"}},[t._v("Personal Access Tokens page")]),t._v(".")],1),t._v(" "),s("td")]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17)])]),t._v(" "),t._m(18),t._v(" "),s("p",[t._v("Being a pipeline from a "),s("a",{attrs:{href:"https://jenkins.io/doc/book/pipeline/shared-libraries/",target:"_blank",rel:"noopener noreferrer"}},[t._v("shared library"),s("OutboundLink")],1),t._v(" this pipeline must extend a "),s("code",[t._v("call")]),t._v(" method. This pipeline expects a "),s("a",{attrs:{href:"http://groovy-lang.org/syntax.html#_maps",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("Map")]),s("OutboundLink")],1),t._v(" object, containing the parameters to be passed to the pipeline from the job configuration and trigger.")]),t._v(" "),s("p",[t._v("Once this pipeline has been triggered, the job will execute the following steps.")]),t._v(" "),t._m(19),t._v(" "),t._m(20),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Execute its "),s("code",[t._v("initialize")]),t._v(" method to read configuration files and instatiate objects of "),s("router-link",{attrs:{to:"./../pipelines/helper_classes/PipelineConfig.html"}},[t._v("helper classes")]),t._v(" "),t._m(21)],1)]),t._v(" "),t._m(22),t._m(23),t._v(" "),t._m(24),t._m(25),t._v(" "),t._m(26),t._m(27),t._v(" "),t._m(28),t._m(29),t._v(" "),t._m(30),t._m(31),t._v(" "),t._m(32),t._m(33),t._v(" "),t._m(34),t._m(35),t._v(" "),t._m(36),t._m(37),t._v(" "),t._m(38)])},a,!1,null,null,null);e.default=r.exports}}]);